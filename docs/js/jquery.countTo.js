(function(a){function b(c,d){return c.toFixed(d.decimals)}a.fn.countTo=function(c){c=c||{};return a(this).each(function(){function j(){d+=h;t++;e(d);if(typeof k.onUpdate=="function"){k.onUpdate.call(q,d)}if(t>=p){m.removeData("countTo");clearInterval(g.interval);d=k.to;if(typeof k.onComplete=="function"){k.onComplete.call(q,d)}}}function e(f){var i=k.formatter.call(q,f,k);m.text(i)}var k=a.extend({},a.fn.countTo.defaults,{from:a(this).data("from"),to:a(this).data("to"),speed:a(this).data("speed"),refreshInterval:a(this).data("refresh-interval"),decimals:a(this).data("decimals")},c);var p=Math.ceil(k.speed/k.refreshInterval),h=(k.to-k.from)/p;var q=this,m=a(this),t=0,d=k.from,g=m.data("countTo")||{};m.data("countTo",g);if(g.interval){clearInterval(g.interval)}g.interval=setInterval(j,k.refreshInterval);e(d)})};a.fn.countTo.defaults={from:0,to:0,speed:1000,refreshInterval:100,decimals:0,formatter:b,onUpdate:null,onComplete:null}})(jQuery);